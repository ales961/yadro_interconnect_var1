# Вариант 1. Потоковый апсайзер  
![image](https://github.com/ales961/yadro_interconnect_var1/assets/76012630/33850f80-a7a8-4ce5-8830-cfb53221a240)


## Описание алгоритма:  
Для промежуточного хранения полученных данных создан буфер data_buf, указатель к нему и счетчик записанных данных.  
Есть 3 состояния: LISTENING, T_PROCESS, T_END.  
 1. LISTENING считывает данные и управляет переходом в другие стстояния.  
 2. T_PROCESS обрабатывает транзакцию. В это состояние выполняется переход, если после получения данных их количество стало равно максимальному размеру пакетов в транзакции (T_DATA_RATIO). В T_PROCESS производится передача значений data_buf на выход, очистка data_buf и установка нужных флагов.  
 3. T_END принудительно завершает транзакцию. В это состояние выполняется переход, если был установлен сигнал s_last_i. В T_END производится передача значений data_buf на выход, очистка data_buf и установка нужных флагов.  

## Результат выполнения  
1. T_DATA_WIDTH = 4, T_DATA_RATIO = 2
   Переданы значения 0, 1, 2, A, B  
   ![image](https://github.com/ales961/yadro_interconnect_var1/assets/76012630/436389fb-7bb0-4b79-a1e7-5db455bf16fc)


2. T_DATA_WIDTH = 4, T_DATA_RATIO = 4
   Переданы значения 0, 1, 2, 3, 4, A, B  
   ![image](https://github.com/ales961/yadro_interconnect_var1/assets/76012630/b55cc868-fa96-4da1-93b7-0fc58ca7ab1f)
   Занчения должны быть считаны из m_data_o с помощью флагов m_valid_o и m_keep_o. m_valid_o указывает на валидность данных, а m_keep_o на то, какое количество данных нужно считать (например, если m_keep_o равен 2, но нужно считать m_data_o[0] и m_data_o[1]).

